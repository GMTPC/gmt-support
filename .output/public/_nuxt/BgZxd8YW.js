import{_ as y}from"./D1NlPZts.js";import{_ as T,al as C,r,h as N,a as e,w as l,o as R,b as f,g as U,V,f as v}from"./BX3DXnrd.js";import{u as k}from"./BhgsWWkZ.js";import{u as B}from"./h9GH4c1g.js";import{a as c,V as a}from"./Dcv5vhZ4.js";import{V as F,c as g,a as q,e as H}from"./CEv2fZCT.js";import{V as I}from"./-1Oo1DPM.js";import{V as S}from"./CZXLAAch.js";import{V as A}from"./DvB9e70b.js";import{V as M}from"./DWYXe89p.js";import{V as P}from"./C84KPyP5.js";import{V as z}from"./kQPmhJOm.js";import"./CRzN-RqF.js";/* empty css        */import"./DSgduqRd.js";import"./DWGaNmQL.js";import"./BudtlS_C.js";import"./8gBy0bTw.js";import"./B2HVLM-N.js";import"./Dc67yaJp.js";import"./BFwkMqJ3.js";import"./DScwcNyu.js";import"./DEKsWHAV.js";import"./DDt4p3us.js";import"./1Ywhgt5G.js";const D={class:"pa-4"},E={__name:"create",setup(G){B({title:"แจ้งซ่อมใหม่ - GMT SUPPORT"});const{createTicket:_}=k(),x=C(),n=r(null),b=[p=>!!p||"กรุณากรอกหัวข้อ"],s=r(""),u=r(""),i=r("Normal"),m=r(null);async function w(){var o;if(!(n.value?await n.value.validate():!0))return;const t={title:s.value,description:u.value,priority:i.value,fileName:((o=m.value)==null?void 0:o.name)||null},d=await _(t);d&&d.id&&x.push("/it-service-request")}return(p,t)=>{const d=y;return R(),N("div",D,[e(c,null,{default:l(()=>[e(a,{cols:"12"},{default:l(()=>[e(d,{showHome:!0,items:[{text:"แจ้งซ่อม",to:"/it-service-request"},{text:"แจ้งซ่อมใหม่"}]}),e(F,{class:"card-form",style:{width:"100%"}},{default:l(()=>[e(g,null,{default:l(()=>[...t[5]||(t[5]=[f("div",null,[f("div",{class:"h5"},"แจ้งซ่อมใหม่"),f("div",{class:"text-muted"},"กรุณากรอกข้อมูลให้ครบถ้วน ทีม IT จะติดต่อตอบกลับ")],-1)])]),_:1}),e(q,{class:"card-body"},{default:l(()=>[e(I,{ref_key:"formRef",ref:n,onSubmit:U(w,["prevent"])},{default:l(()=>[e(c,null,{default:l(()=>[e(a,{cols:"12"},{default:l(()=>[e(S,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),label:"หัวข้อ",rules:b,required:""},null,8,["modelValue"])]),_:1}),e(a,{cols:"12"},{default:l(()=>[e(A,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),label:"รายละเอียด",rows:"6"},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"4"},{default:l(()=>[e(M,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=o=>i.value=o),items:["Low","Normal","High","Urgent"],label:"ความสำคัญ"},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"4"},{default:l(()=>[e(P,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=o=>m.value=o),label:"แนบไฟล์ (ถ้ามี)","show-size":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(z),e(H,null,{default:l(()=>[e(a,{cols:"12"},{default:l(()=>[e(V,{type:"submit",color:"primary",class:"btn me-2"},{default:l(()=>[...t[6]||(t[6]=[v(" ส่งคำขอ ",-1)])]),_:1}),e(V,{color:"secondary",type:"reset",variant:"tonal",onClick:t[4]||(t[4]=o=>{s.value="",u.value="",i.value="Normal",m.value=null})},{default:l(()=>[...t[7]||(t[7]=[v(" ล้าง ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},fe=T(E,[["__scopeId","data-v-e95575a6"]]);export{fe as default};
